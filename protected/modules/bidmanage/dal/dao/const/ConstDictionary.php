<?php
/**
 * Copyright © 2013 Tuniu Inc. All rights reserved.
 * 
 * @author chenjinlong
 * @date 14-3-4
 * @time 下午7:54
 * @description ConstDictionary.php
 */
class ConstDictionary
{
    /**
     * 产品类型映射关系
     * @var array
     */
    public static $productTypeList = array(
        array(
            'bb_product_type' => 1,
            'ngboss_product_type' => null,
        ),
        array(
            'bb_product_type' => 3,
            'ngboss_product_type' => 8,
        ),
        array(
            'bb_product_type' => 33,
            'ngboss_product_type' => 2,
        ),
        array(
            'bb_product_type' => 5,
            'ngboss_product_type' => 20,
        ),
    );

    public static $bbProductTypeList = array(
        '1' => '跟团游',
        '3' => '自助游',
        '33' => '门票',
        '4' => '签证',
        '5' => '邮轮',
    );

    public static $globalBbProductTypeList = array(
        array(
            'id' => 1,
            'name' => '跟团游',
            'ror_id' => 1,
        ),
        array(
            'id' => 4,
            'name' => '签证',
            'ror_id' => 10,
        ),
        array(
            'id' => 5,
            'name' => '邮轮',
            'ror_id' => 12,
        ),
    );

    public static $bbRorProductMapping = array(
        '1' => '1', //跟团,平台
        '3' => '2', //自助
        '33' => '6', //景点门票
        '4' => '10', //签证
        '5' => '12', //邮轮
    );

    public static $rorBbProductMapping = array(
        '1' => '1', //跟团,平台
        '2' => '3', //自助
        '6' => '33', //景点门票
        '10' => '4', //签证
        '12' => '5', //邮轮
    );
    
    /**
     * 分类页需过滤的分类id
     * 
     * @author wenrui 2014-05-10
     */
    public static $classRecommendFilterArray = array(
        2794,2793,
    );

    /**
     * 自营出发城市
     *
     * @var array
     */
    public static $majorCityCodeArr = array(
        200,2500,602,1602,3402,2802,619,300,1902,1402,1615,3415,3000,2702,1619,
    );

    /**
     * 牛币为0但可参与竞拍的特殊招客宝帐号
     *
     * @desc key:招客宝帐号 value:供应商编号
     * @var array
     */
    public static $zeroNiuAmountAccountMapping = array(
        /*2014-05-12*/
        '678' => 45,
        '520' => 86,
        '513' => 384,
        '519' => 446,
        '500' => 539,
        '197' => 735,
        '965' => 908,
        '49'  => 2230,
        '348' => 2306,
        '793' => 2682,
        '964' => 2886,
        '630' => 3139,
        '466' => 3414,
        '791' => 3531,
        '104' => 3796,
        '115' => 7380,
        '129' => 7914,
        '671' => 7996,
        '962' => 8347,
        '293' => 8383,
        '18'  => 8386,
        '656' => 8467,
        '966' => 8680,
        '963' => 9113,
        /*2014-06-09*/
        '1976' => '10873',
        '1978' => '10877',
        '1979' => '10878',
        '1980' => '10879',
        '1981' => '10880',
        '1982' => '10882',
        '1040' => '11019',
        '1041' => '11021',
        '1043' => '11024',
        '1046' => '11038',
        '1047' => '11039',
        '1050' => '11042',
        '1051' => '11043',
        '1052' => '11044',
        '1064' => '11079',
        '1065' => '11080',
        '1067' => '11081',
        '1068' => '11082',
        '1074' => '11089',
        '1277' => '11208',
        '1278' => '11209',
        '1281' => '11212',
        '1283' => '11214',
        '1285' => '11216',
        '1297' => '11254',
        '1298' => '11255',
        '1299' => '11258',
        '1300' => '11259',
        '1301' => '11260',
        '1302' => '11261',
        '1303' => '11262',
        '1304' => '11263',
        '1305' => '11264',
        '1306' => '11265',
        '1343' => '11285',
        '1350' => '11331',
        '1351' => '11332',
        '1392' => '11359',
        '1393' => '11360',
        '1395' => '11363',
        '1396' => '11365',
        '1404' => '11407',
        '1410' => '11413',
        '1411' => '11414',
        '1425' => '11492',
        '1426' => '11494',
        '1427' => '11495',
        '1428' => '11497',
        '1430' => '11499',
        '1438' => '11601',
        '1439' => '11609',
        '2194' => '11613',
        '1442' => '11614',
        '1443' => '11615',
        '1444' => '11616',
        '1445' => '11617',
        '1446' => '11618',
        '1447' => '11619',
        '1448' => '11620',
        '1463' => '11688',
        '1467' => '11696',
        '1469' => '11725',
        '1472' => '11752',
        '1473' => '11753',
        '1474' => '11754',
        '1475' => '11755',
        '1476' => '11756',
        '1481' => '11761',
        '1482' => '11762',
        '1483' => '11763',
        '1641' => '11850',
        '1646' => '11855',
        '1647' => '11856',
        '1648' => '11857',
        '1650' => '11858',
        '1899' => '11859',
        '1973' => '11860',
        '2017' => '11899',
        '2018' => '11902',
        '2019' => '11903',
        '2020' => '11906',
        '2021' => '11907',
        '2022' => '11909',
        '2023' => '11910',
        '2024' => '11911',
        '2025' => '11914',
        '2026' => '11914',
        '2027' => '11915',
        '2028' => '11916',
        '2029' => '11918',
        '2030' => '11919',
        '2031' => '11920',
        '2032' => '11921',
        '2033' => '11922',
        '2034' => '11923',
        '2039' => '11928',
        '2041' => '11930',
        '2044' => '11936',
        '2046' => '11941',
        '2047' => '11942',
        '2048' => '11944',
        '2049' => '11945',
        '2050' => '11947',
        '2051' => '11949',
        '2052' => '11951',
        '2053' => '11952',
        '2055' => '11953',
        '2056' => '11954',
        '2057' => '11955',
        '2058' => '11966',
        '2059' => '11970',
        '2061' => '11974',
        '2062' => '11975',
        '2063' => '11980',
        '2064' => '11981',
        '2065' => '11982',
        '2066' => '11983',
        '2069' => '11986',
        '2071' => '11991',
        '2077' => '12011',
        '2078' => '12013',
        '2079' => '12015',
        '2080' => '12017',
        '2081' => '12018',
        '2082' => '12021',
        '2085' => '12025',
        '2084' => '12026',
        '2089' => '12034',
        '2090' => '12035',
        '2091' => '12038',
        '2092' => '12042',
        '2093' => '12044',
        '2094' => '12047',
        '2095' => '12048',
        '2099' => '12067',
        '2101' => '12070',
        '2105' => '12081',
        '2108' => '12088',
        '2110' => '12093',
        '2111' => '12094',
        '2114' => '12102',
        '2115' => '12103',
        '2140' => '12115',
        '2143' => '12118',
        '2152' => '12120',
        '2156' => '12121',
        '2157' => '12122',
        '2158' => '12123',
        '2160' => '12124',
        '2161' => '12127',
        '2162' => '12128',
        '2163' => '12131',
        '2166' => '12138',
        '2167' => '12140',
        '2170' => '12153',
        '2174' => '12160',
        '2175' => '12161',
        '2176' => '12162',
        '2177' => '12163',
        '2178' => '12165',
        '2183' => '12186',
        '2188' => '12190',
        '2189' => '12192',
        '2190' => '12193',
        '2191' => '12194',
        '2192' => '12195',
        '2207' => '12228',
        '2209' => '12234',
        '2220' => '12259',
        '2224' => '12273',
        '2225' => '12274',
        '2236' => '12290',
        '2237' => '12291',
        '2238' => '12292',
        '2242' => '12299',
        '2243' => '12300',
        '2244' => '12302',
        '2245' => '12304',
        '2247' => '12309',
        '2248' => '12311',
        '2249' => '12313',
        '2250' => '12314',
        '2252' => '12320',
        '2254' => '12324',
        '2257' => '12329',
        '2261' => '12340',
        '2275' => '12504',
        '2276' => '12510',
        '2277' => '12512',
        /*2014-06-17*/
        '2407' => '12130',
        /*2014-07-14*/
        '593' => '844',
		'596' => '2677',
		'594' => '2679',
		'613' => '5961',
		'584' => '9261',
		'1842' => '9909',
		'979' => '10500',
		'990' => '10601',
		'1934' => '10605',
		'2342' => '12913',
		/*2014-07-29*/
		'609' => '3315',
		'646' => '9042',
		'2341' => '13251',
		'585' => '2940',
		/*2014-08-05*/
		'611' => '9176',
    );

    public static function transBbProductTypeToNgboss($bbProductType)
    {
        foreach(self::$productTypeList as $eachItem)
        {
            if($eachItem['bb_product_type'] == $bbProductType){
                return $eachItem['ngboss_product_type'];
            }
        }
        return null;
    }

    public static function transNgbossProductTypeToBb($ngbossProductType)
    {
        foreach(self::$productTypeList as $eachItem)
        {
            if($eachItem['ngboss_product_type'] == $ngbossProductType){
                return $eachItem['bb_product_type'];
            }
        }
        return null;
    }

    public static function getBbProductTypeNameByKey($bbProductType)
    {
        return self::$bbProductTypeList[$bbProductType];
    }

    public static function getGlobalBbProductTypeList()
    {
        return self::$globalBbProductTypeList;
    }
    
    public static function getGlobalRorProductTypeIdList()
    {
    	$rorProductTypeIds = array();
    	foreach(self::$globalBbProductTypeList as $each){
    		$rorProductTypeIds[] = $each['ror_id'];
    	}
    	return $rorProductTypeIds;
    }

    /**
     * 非主营出发城市，分类页限制可竞拍位置数目为3个
     *
     * @author chenjinlong 20140505
     * @param $srcAdPosCount
     * @param $startCityCode
     * @param $adKey
     * @return int
     */
    public static function getAdPositionCountLimit($srcAdPosCount, $startCityCode, $adKey)
    {
        if($adKey == 'class_recommend' && !in_array($startCityCode, self::$majorCityCodeArr)){
            return 3;
        }else{
            return intval($srcAdPosCount);
        }
    }

}